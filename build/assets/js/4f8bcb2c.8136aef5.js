"use strict";(globalThis.webpackChunkjustdriving=globalThis.webpackChunkjustdriving||[]).push([[2781],{8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>l});var i=s(6540);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}},8488:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"permissions-matrix/branch-specific-restrictions","title":"Branch-Specific Restrictions","description":"This page describes how access is restricted when schools have multiple departments/branches. The goal is to clarify what data a user can see and modify when departments are involved, especially for teachers and school staff.","source":"@site/docs/permissions-matrix/branch-specific-restrictions.md","sourceDirName":"permissions-matrix","slug":"/permissions-matrix/branch-specific-restrictions","permalink":"/docs/permissions-matrix/branch-specific-restrictions","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/permissions-matrix/branch-specific-restrictions.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Admin vs Teacher vs Student","permalink":"/docs/permissions-matrix/admin-vs-teacher-vs-student"},"next":{"title":"Feature-level permissions","permalink":"/docs/permissions-matrix/feature-level-permissions"}}');var t=s(4848),r=s(8453);const a={sidebar_position:3},l="Branch-Specific Restrictions",o={},c=[{value:"Departments and scoping",id:"departments-and-scoping",level:2},{value:"Global Admin",id:"global-admin",level:2},{value:"School Admin/Owner",id:"school-adminowner",level:2},{value:"Teacher",id:"teacher",level:2},{value:"Student",id:"student",level:2},{value:"Practical notes for developers",id:"practical-notes-for-developers",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"branch-specific-restrictions",children:"Branch-Specific Restrictions"})}),"\n",(0,t.jsx)(n.p,{children:"This page describes how access is restricted when schools have multiple departments/branches. The goal is to clarify what data a user can see and modify when departments are involved, especially for teachers and school staff."}),"\n",(0,t.jsx)(n.h2,{id:"departments-and-scoping",children:"Departments and scoping"}),"\n",(0,t.jsx)(n.p,{children:"In multi\u2011branch schools, departments are used to group:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Teachers"}),"\n",(0,t.jsx)(n.li,{children:"Students"}),"\n",(0,t.jsx)(n.li,{children:"Classes"}),"\n",(0,t.jsx)(n.li,{children:"Bookings"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Key ideas:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"A department belongs to exactly one school."}),"\n",(0,t.jsx)(n.li,{children:"Teachers and students are linked to both a school and optionally a department."}),"\n",(0,t.jsx)(n.li,{children:"Many screens in the system should show only data for the user\u2019s department by default, with options for school\u2011wide views where allowed."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"global-admin",children:"Global Admin"}),"\n",(0,t.jsx)(n.p,{children:"Global Admins are not restricted by department:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Can view and manage all schools, departments, teachers, students, classes, bookings, and finances."}),"\n",(0,t.jsx)(n.li,{children:"Can switch between schools and departments for support and troubleshooting."}),"\n",(0,t.jsx)(n.li,{children:"Should always use explicit school/department filters when running sensitive operations to avoid mistakes."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"In code, Global Admin checks typically bypass department scoping but should still respect school selection where relevant."}),"\n",(0,t.jsx)(n.h2,{id:"school-adminowner",children:"School Admin/Owner"}),"\n",(0,t.jsx)(n.p,{children:"School Admins/Owners have full access within their school, but can also work with departments:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Can view and manage all departments in their school."}),"\n",(0,t.jsx)(n.li,{children:"Can view all teachers and students in the school, regardless of department."}),"\n",(0,t.jsx)(n.li,{children:"Can view and manage all classes and bookings across departments."}),"\n",(0,t.jsx)(n.li,{children:"Can move students and teachers between departments when needed (for example, reassigning a teacher to a new branch)."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"By default, school admins may see data across departments, but the UI can still provide department filters for clarity."}),"\n",(0,t.jsx)(n.h2,{id:"teacher",children:"Teacher"}),"\n",(0,t.jsx)(n.p,{children:"Teachers are usually scoped to their department (or departments) within a school:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Can see:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Their own bookings and schedule."}),"\n",(0,t.jsx)(n.li,{children:"Students they teach (even if they are technically in another department, depending on configuration)."}),"\n",(0,t.jsx)(n.li,{children:"Classes they are assigned to teach."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["May be limited to:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Only seeing students and bookings in their own department."}),"\n",(0,t.jsx)(n.li,{children:"Only editing bookings and classes where they are the responsible teacher."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Common patterns:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Teacher dashboards default to \u201cown department + own data\u201d."}),"\n",(0,t.jsx)(n.li,{children:"Teachers cannot change department\u2011level settings or move users between departments unless given explicit permissions."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"If you support multi\u2011department teachers, you can allow a teacher to be linked to several departments and scope queries to all departments they belong to."}),"\n",(0,t.jsx)(n.h2,{id:"student",children:"Student"}),"\n",(0,t.jsx)(n.p,{children:"Students are scoped to their own school and, if used, their own department:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Can only see their own data (profile, bookings, classes, invoices, payments, progress)."}),"\n",(0,t.jsx)(n.li,{children:"Do not see department information or other students in their department."}),"\n",(0,t.jsx)(n.li,{children:"Their department is mostly used for internal organization (grouping in lists, reporting, and scheduling)."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"In practice, students are unaware of departmental structure and only interact with their own schedule and school\u2011level information."}),"\n",(0,t.jsx)(n.h2,{id:"practical-notes-for-developers",children:"Practical notes for developers"}),"\n",(0,t.jsx)(n.p,{children:"When working with departments in code:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Always include ",(0,t.jsx)(n.code,{children:"school_id"})," in queries; department checks should never cross school boundaries."]}),"\n",(0,t.jsxs)(n.li,{children:["When a user belongs to one or more departments, scope queries by:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"School (always)."}),"\n",(0,t.jsx)(n.li,{children:"Department(s) (for teachers and department-level staff where appropriate)."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"For Global Admin, allow bypassing department restrictions but still require explicit selection of school to avoid accidental cross\u2011school operations."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"When adding new features:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Decide whether the feature is:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"School\u2011wide (visible to admins across all departments), or"}),"\n",(0,t.jsx)(n.li,{children:"Department\u2011specific (restricted to a department and its users)."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Apply the same scoping logic consistently across lists, detail views, and reports."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);