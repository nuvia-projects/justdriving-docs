"use strict";(globalThis.webpackChunkjustdriving=globalThis.webpackChunkjustdriving||[]).push([[349],{5105:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"architecture/backend","title":"Backend structure","description":"The backend for Just Driving is a Laravel (PHP 7.*) application organized using standard Laravel conventions, with additional separation for business logic and integrations. This section describes the main backend layers and how they fit together.","source":"@site/docs/architecture/backend.md","sourceDirName":"architecture","slug":"/architecture/backend","permalink":"/docs/architecture/backend","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/architecture/backend.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"High-level system diagram","permalink":"/docs/architecture/diagram"},"next":{"title":"Frontend structure","permalink":"/docs/architecture/frontend"}}');var r=i(4848),l=i(8453);const c={sidebar_position:2},d="Backend structure",o={},t=[{value:"Core Laravel directories",id:"core-laravel-directories",level:2},{value:"Application and domain logic",id:"application-and-domain-logic",level:2},{value:"Integrations and external platforms",id:"integrations-and-external-platforms",level:2},{value:"Supporting layers",id:"supporting-layers",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"backend-structure",children:"Backend structure"})}),"\n",(0,r.jsx)(n.p,{children:"The backend for Just Driving is a Laravel (PHP 7.*) application organized using standard Laravel conventions, with additional separation for business logic and integrations. This section describes the main backend layers and how they fit together."}),"\n",(0,r.jsx)(n.h2,{id:"core-laravel-directories",children:"Core Laravel directories"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"app/Models"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Eloquent models for core entities such as ",(0,r.jsx)(n.code,{children:"Student"}),", ",(0,r.jsx)(n.code,{children:"DrivingSchool"}),", ",(0,r.jsx)(n.code,{children:"Lesson"}),", ",(0,r.jsx)(n.code,{children:"Booking"}),", ",(0,r.jsx)(n.code,{children:"User"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Defines relationships (e.g. ",(0,r.jsx)(n.code,{children:"DrivingSchool hasMany Lesson"}),", ",(0,r.jsx)(n.code,{children:"Student hasMany Booking"}),")."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"app/Http/Controllers"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Controllers handling HTTP requests for Admin, Teacher, and Student areas."}),"\n",(0,r.jsxs)(n.li,{children:["Typically grouped by area, for example:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"App\\Http\\Controllers\\Admin\\*"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"App\\Http\\Controllers\\Teacher\\*"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"App\\Http\\Controllers\\Student\\*"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"app/Http/Middleware"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Middleware for authentication, authorization, role checks, and common web concerns."}),"\n",(0,r.jsx)(n.li,{children:"Example: role-based middleware to restrict admin routes to admin users."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"routes/web.php"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Web routes for dashboards, management screens, booking flows, etc."}),"\n",(0,r.jsxs)(n.li,{children:["May use route groups for prefixes like ",(0,r.jsx)(n.code,{children:"/admin"}),", ",(0,r.jsx)(n.code,{children:"/teacher"}),", ",(0,r.jsx)(n.code,{children:"/student"})," with corresponding middleware."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"routes/api.php"})," (if used)"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"API endpoints (e.g. for AJAX calls, future integrations, or mobile apps)."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"application-and-domain-logic",children:"Application and domain logic"}),"\n",(0,r.jsx)(n.p,{children:"Depending on how you\u2019ve structured your code, you can document:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"app/Services"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Application services that coordinate complex operations (e.g. ",(0,r.jsx)(n.code,{children:"BookingService"}),", ",(0,r.jsx)(n.code,{children:"DrivingSchoolService"}),")."]}),"\n",(0,r.jsx)(n.li,{children:"Used by controllers to keep them thin and focused."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"app/Actions"})," or ",(0,r.jsx)(n.code,{children:"app/UseCases"})," (if you use them)"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Single-purpose classes for specific operations (e.g. ",(0,r.jsx)(n.code,{children:"CreateBooking"}),", ",(0,r.jsx)(n.code,{children:"AssignTeacherToStudent"}),")."]}),"\n",(0,r.jsx)(n.li,{children:"Help make business flows explicit and testable."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"app/Repositories"})," (if present)"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Abstraction over Eloquent queries for more complex read logic."}),"\n",(0,r.jsxs)(n.li,{children:["For example ",(0,r.jsx)(n.code,{children:"BookingRepository"})," or ",(0,r.jsx)(n.code,{children:"DrivingSchoolRepository"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"integrations-and-external-platforms",children:"Integrations and external platforms"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"app/Services/Integrations"})," or similar","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Classes encapsulating communication with external systems:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"e-teori.dk"})," (theory practice platform)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"findkoreskole.dk"})," (driving school discovery)."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Typically use an HTTP client (e.g. Guzzle) and expose clear methods like ",(0,r.jsx)(n.code,{children:"syncStudent"}),", ",(0,r.jsx)(n.code,{children:"sendLead"}),", etc."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"supporting-layers",children:"Supporting layers"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"database/migrations"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Migrations that define the schema for users, schools, lessons, bookings, etc."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"database/seeders"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Seeders for initial test data (e.g. demo schools, demo users)."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"app/Console"})," (optional)"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Artisan commands for recurring tasks (e.g. sending reminders, syncing external data)."}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>d});var s=i(6540);const r={},l=s.createContext(r);function c(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);